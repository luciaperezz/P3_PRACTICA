<html>
    <head>
        <title>Calculadora de CORE</title>
        <meta charset="UTF-8">
    </head>

    <script type="text/javascript">
        //OPERACIONES UTILES PARA TOMAR EL VALOR PASADO Y USARLO
        const getInputValue = () => {
            return Number(document.getElementById("pantalla").value);
       };
       const setInputValue = (valor) => {
            document.getElementById("pantalla").value = valor;
        };

        //OPERACION PARA VACIAR LA CAJA DE NUMEROS Y PODER HACER OPERACIONES BINARIAS
        const vaciarInput = () => {
            document.getElementById("pantalla").value = "";
        };

        //OPERACIONES UNITARIAS
        const sq = () => {
            let inputValue = getInputValue();
            setInputValue(inputValue*inputValue);
        };

        const fact = () => {
            let inputValue = getInputValue();
            let resultado = 1;
            for (let index = inputValue; index > 1; index--){
                resultado *= index;
            }
            setInputValue(resultado);
        };

        const sqr = () => {
            let inputValue = getInputValue();
            let resultado = Math.sqrt(inputValue);
            setInputValue(resultado);
        };

        //OPERACIONES BINARIAS
        let acumulador = 0;
        let operador = "";
        
        const acumula = n => {
            switch (operador){
                case "":
                    acumulador = n;
                    break;
                case "+":
                    acumulador += n;
                    break;
                case "-": 
                    acumulador -= n;
                    break;
            }
        };
        //SUMA
        const add = () => {
            acumula(getInputValue());
            operador = "+";
            vaciarInput();
        };
        //IGUAL
        const eq = () => {
            acumula(getInputValue());
            operador = "=";
            vaciarInput();
            setInputValue(acumulador);
        };
        //RESTA
        const sub = () => {
            acumula(getInputValue());
            operador = "-";
            vaciarInput();
        }
        const onload = () => {
            document.getElementById("cuadrado").addEventListener("click",sq);
            document.getElementById("factorial").addEventListener("click",fact);
            document.getElementById("raiz").addEventListener("click",sqr);
            document.getElementById("suma").addEventListener("click",add);
            document.getElementById("igual").addEventListener("click",eq);
            document.getElementById("resta").addEventListener("click",sub);

        };

        window.onload =onload;
    </script>



    <body>
        <h1 class="cabecera">Calculadora de CORE</h1>
        <div id="inputtexto">
            <label for="pantalla">NÃºmero</label>
            <input type="text" id="pantalla">
        </div>
        <div id="opUnitarias">
            <h2>Operaciones unitarias</h2>
            <button id="cuadrado">x<sup>2</sup></button> 
            <button id="factorial">x!</button>
            <button id="raiz">&#8730 x</button>
        </div>
        <div id="opBinarias">
            <h3>Operaciones Binarias</h3>
            <button id="suma"> + </button>
            <button id="igual"> = </button>
            <button id="resta"> - </button>

        </div>
    </body>
   </html>

